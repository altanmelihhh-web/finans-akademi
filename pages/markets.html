<!-- Markets Page - 100+ Stocks -->
<section id="markets" class="page">
    <div class="container">
        <h1>ðŸ“Š Piyasalar - 100+ Hisse Senedi Takibi</h1>

        <!-- Search and Filter -->
        <div class="market-controls">
            <div class="search-filter-bar">
                <input type="text" id="stockSearch" placeholder="ðŸ” Hisse ara (Ã¶rn: AAPL, THYAO)..." class="search-input">

                <select id="marketFilter" class="filter-select">
                    <option value="all">TÃ¼m Piyasalar</option>
                    <option value="us">ABD Hisseleri</option>
                    <option value="bist">BIST Hisseleri</option>
                </select>

                <select id="sectorFilter" class="filter-select">
                    <option value="all">TÃ¼m SektÃ¶rler</option>
                    <option value="technology">Teknoloji</option>
                    <option value="financial">Finans</option>
                    <option value="healthcare">SaÄŸlÄ±k</option>
                    <option value="energy">Enerji</option>
                    <option value="consumer">TÃ¼ketici</option>
                    <option value="industrial">EndÃ¼striyel</option>
                </select>

                <select id="sortBy" class="filter-select">
                    <option value="name">Ä°sme GÃ¶re</option>
                    <option value="price-high">Fiyat (YÃ¼ksekâ†’DÃ¼ÅŸÃ¼k)</option>
                    <option value="price-low">Fiyat (DÃ¼ÅŸÃ¼kâ†’YÃ¼ksek)</option>
                    <option value="change-high">DeÄŸiÅŸim % (YÃ¼ksekâ†’DÃ¼ÅŸÃ¼k)</option>
                    <option value="change-low">DeÄŸiÅŸim % (DÃ¼ÅŸÃ¼kâ†’YÃ¼ksek)</option>
                </select>
            </div>

            <div class="view-toggle">
                <button class="view-btn active" data-view="grid"><i class="fas fa-th"></i> Kart</button>
                <button class="view-btn" data-view="table"><i class="fas fa-list"></i> Tablo</button>
                <button class="view-btn" data-view="watchlist"><i class="fas fa-star"></i> Ä°zleme Listesi (<span id="watchlistCount">0</span>)</button>
            </div>
        </div>

        <!-- Market Stats Summary -->
        <div class="market-stats">
            <div class="stat-box">
                <i class="fas fa-arrow-trend-up green"></i>
                <h4>YÃ¼kselen</h4>
                <p class="stat-number green" id="risingCount">0</p>
            </div>
            <div class="stat-box">
                <i class="fas fa-arrow-trend-down red"></i>
                <h4>DÃ¼ÅŸen</h4>
                <p class="stat-number red" id="fallingCount">0</p>
            </div>
            <div class="stat-box">
                <i class="fas fa-fire orange"></i>
                <h4>En YÃ¼ksek Hacim</h4>
                <p class="stat-number orange" id="highestVolume">-</p>
            </div>
            <div class="stat-box">
                <i class="fas fa-chart-line blue"></i>
                <h4>Ortalama DeÄŸiÅŸim</h4>
                <p class="stat-number blue" id="avgChange">0%</p>
            </div>
        </div>

        <!-- Grid View -->
        <div id="stocksGrid" class="stocks-grid">
            <!-- Stocks will be loaded here dynamically -->
        </div>

        <!-- Table View -->
        <div id="stocksTable" class="stocks-table" style="display: none;">
            <table>
                <thead>
                    <tr>
                        <th><i class="far fa-star"></i></th>
                        <th>Sembol</th>
                        <th>Åžirket AdÄ±</th>
                        <th>SektÃ¶r</th>
                        <th>Fiyat</th>
                        <th>DeÄŸiÅŸim</th>
                        <th>DeÄŸiÅŸim %</th>
                        <th>Hacim</th>
                        <th>Ä°ÅŸlem</th>
                    </tr>
                </thead>
                <tbody id="stocksTableBody">
                    <!-- Rows will be loaded here -->
                </tbody>
            </table>
        </div>

        <!-- Watchlist View -->
        <div id="watchlistView" class="watchlist-view" style="display: none;">
            <div class="watchlist-header">
                <h2><i class="fas fa-star"></i> Ä°zleme Listem</h2>
                <button id="clearWatchlist" class="btn-secondary"><i class="fas fa-trash"></i> TÃ¼mÃ¼nÃ¼ Temizle</button>
            </div>
            <div id="watchlistContainer" class="stocks-grid">
                <!-- Watchlist items will be loaded here -->
            </div>
            <div id="emptyWatchlist" class="empty-state" style="display: none;">
                <i class="fas fa-star" style="font-size: 4rem; opacity: 0.3;"></i>
                <h3>Ä°zleme listesi boÅŸ</h3>
                <p>Hisselerin yanÄ±ndaki yÄ±ldÄ±za tÄ±klayarak izleme listene ekle</p>
            </div>
        </div>

        <!-- Stock Detail Modal -->
        <div id="stockModal" class="modal">
            <div class="modal-content">
                <span class="modal-close">&times;</span>
                <div class="modal-header">
                    <h2 id="modalStockName">-</h2>
                    <button id="modalWatchlistBtn" class="btn-icon"><i class="far fa-star"></i></button>
                </div>
                <div class="modal-body">
                    <div class="stock-price-info">
                        <div class="current-price">
                            <span class="label">GÃ¼ncel Fiyat</span>
                            <span class="value" id="modalPrice">$0.00</span>
                        </div>
                        <div class="price-change" id="modalChange">
                            <span class="change-value">+0.00</span>
                            <span class="change-percent">(+0.00%)</span>
                        </div>
                    </div>

                    <div class="stock-details-grid">
                        <div class="detail-item">
                            <span class="label">SektÃ¶r</span>
                            <span class="value" id="modalSector">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">AÃ§Ä±lÄ±ÅŸ</span>
                            <span class="value" id="modalOpen">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">GÃ¼n YÃ¼ksek</span>
                            <span class="value" id="modalHigh">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">GÃ¼n DÃ¼ÅŸÃ¼k</span>
                            <span class="value" id="modalLow">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">52 Hafta YÃ¼ksek</span>
                            <span class="value" id="modal52High">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">52 Hafta DÃ¼ÅŸÃ¼k</span>
                            <span class="value" id="modal52Low">-</span>
                        </div>
                    </div>

                    <div class="stock-chart">
                        <h3>Fiyat GrafiÄŸi (30 GÃ¼n)</h3>
                        <canvas id="modalChart"></canvas>
                    </div>

                    <div class="quick-trade">
                        <h3>HÄ±zlÄ± Ä°ÅŸlem (Sanal)</h3>
                        <div class="trade-controls">
                            <button class="btn-success trade-btn" data-action="buy">
                                <i class="fas fa-arrow-up"></i> AL
                            </button>
                            <input type="number" id="tradeAmount" placeholder="Adet" min="1" value="1" class="trade-input">
                            <button class="btn-danger trade-btn" data-action="sell">
                                <i class="fas fa-arrow-down"></i> SAT
                            </button>
                        </div>
                        <p class="trade-info">
                            Toplam: <span id="tradeTotal">$0.00</span> |
                            Bakiye: <span id="userBalance">$10,000.00</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading State -->
        <div id="loadingStocks" class="loading-state">
            <div class="spinner"></div>
            <p>Piyasa verileri yÃ¼kleniyor...</p>
        </div>
    </div>
</section>
