# Finans Akademi Chatbot - Environment Configuration
# Copy this file to .env and fill in your values

# ======================
# OpenAI Configuration
# ======================
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ======================
# Database Configuration
# ======================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=finans_chatbot
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ======================
# FastAPI Configuration
# ======================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false

# Security
API_SECRET_KEY=your-secret-key-change-this-in-production
API_ACCESS_TOKEN_EXPIRE_MINUTES=60

# CORS Settings (comma separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,https://yourdomain.com

# ======================
# RAG Configuration
# ======================
# FAISS Index Path
FAISS_INDEX_PATH=./data/faiss_index
FAISS_DIMENSION=384

# Retrieval Settings
RAG_TOP_K=5
RAG_SIMILARITY_THRESHOLD=0.7
RAG_MAX_CONTEXT_LENGTH=4000

# ======================
# Web Search Configuration
# ======================
WEB_SEARCH_ENABLED=true
WEB_SEARCH_MAX_RESULTS=5
WEB_SEARCH_TIMEOUT=10

# Trusted Finance Sources (comma separated)
TRUSTED_SOURCES=investing.com,bloomberg.com,reuters.com,bigpara.com,mynet.com,doviz.com

# ======================
# Chatbot Behavior
# ======================
CHATBOT_LANGUAGE=tr
CHATBOT_MAX_TOKENS=1000
CHATBOT_TEMPERATURE=0.7
CHATBOT_SYSTEM_PROMPT="Sen Finans Akademi'nin yapay zeka asistanısın. Finans, yatırım ve borsa konularında Türkçe yardım sağlıyorsun."

# Response Strategy
# Options: site_first, hybrid, web_fallback
RESPONSE_STRATEGY=site_first

# ======================
# Rate Limiting
# ======================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=20
RATE_LIMIT_PER_HOUR=100

# ======================
# Logging Configuration
# ======================
LOG_LEVEL=INFO
LOG_FILE=./logs/chatbot.log
LOG_ROTATION=100 MB
LOG_RETENTION=30 days

# ======================
# Data Sync Configuration
# ======================
AUTO_SYNC_ENABLED=true
SYNC_INTERVAL_HOURS=24
SITE_CONTENT_PATH=./

# Pages to index (comma separated)
PAGES_TO_INDEX=index.html,pages/markets.html,pages/simulator.html

# ======================
# Cache Configuration
# ======================
CACHE_ENABLED=true
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE=1000

# ======================
# Monitoring & Analytics
# ======================
ENABLE_ANALYTICS=true
ENABLE_FEEDBACK=true
MIN_CONFIDENCE_FOR_FEEDBACK=0.5

# ======================
# Development Settings
# ======================
DEBUG=false
TESTING=false
